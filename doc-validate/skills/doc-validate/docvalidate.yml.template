# .docvalidate.yml ‚Äî –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏
# –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –≤ –∫–æ—Ä–µ–Ω—å –ø—Ä–æ–µ–∫—Ç–∞ –∫–∞–∫ .docvalidate.yml

version: 1

# –ì–ª–æ—Å—Å–∞—Ä–∏–π –ø—Ä–æ–µ–∫—Ç–∞
glossary:
  file: "02_GLOSSARY.md"  # –ü—É—Ç—å –∫ —Ñ–∞–π–ª—É –≥–ª–æ—Å—Å–∞—Ä–∏—è

  # –ó–∞–ø—Ä–µ—â—ë–Ω–Ω—ã–µ —Å–∏–Ω–æ–Ω–∏–º—ã (–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ –ø–µ—Ä–≤—ã–π —Ç–µ—Ä–º–∏–Ω)
  forbidden_synonyms:
    - ["–∫–æ—à–µ–ª—ë–∫", "wallet", "–±—É–º–∞–∂–Ω–∏–∫"]
    - ["—Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è", "tx", "–ø–µ—Ä–µ–≤–æ–¥", "—Ç—Ä–∞–Ω—Å—Ñ–µ—Ä"]
    - ["–æ–ø–µ—Ä–∞—Ç–æ—Ä", "operator", "—Å–æ—Ç—Ä—É–¥–Ω–∏–∫"]

  # –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–µ–¥–ª–∞–≥–∞—Ç—å –¥–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–µ —Ç–µ—Ä–º–∏–Ω—ã –≤ –≥–ª–æ—Å—Å–∞—Ä–∏–π
  auto_suggest: true

# Scope –ø—Ä–æ–≤–µ—Ä–∫–∏
scope:
  # –ü–æ–ª–Ω–∞—è —Å—Ç—Ä–æ–≥–æ—Å—Ç—å ‚Äî –≤—Å–µ –ø—Ä–æ–≤–µ—Ä–∫–∏
  strict:
    - "*.md"                    # –ö–æ—Ä–Ω–µ–≤—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã
    - "architecture/**/*.md"    # –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞
    - "decisions/**/*.md"       # –†–µ—à–µ–Ω–∏—è

  # –°–Ω–∏–∂–µ–Ω–Ω–∞—è —Å—Ç—Ä–æ–≥–æ—Å—Ç—å ‚Äî —Ç–æ–ª—å–∫–æ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–≤–µ—Ä–∫–∏
  relaxed:
    - "research/**/*.md"        # –ò—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è
    trigger: on_change          # –ü—Ä–æ–≤–µ—Ä—è—Ç—å —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏

  # –ü–æ–ª–Ω–æ—Å—Ç—å—é –∏–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞—Ç—å
  ignore:
    - "claudedocs/**"           # –ê–≤—Ç–æ–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –æ—Ç—á—ë—Ç—ã
    - "*.draft.md"              # –ß–µ—Ä–Ω–æ–≤–∏–∫–∏
    - "node_modules/**"
    - ".git/**"

# –ò—Å–∫–ª—é—á–µ–Ω–∏—è –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Å–≤—è–∑–µ–π
link_exceptions:
  # –ù–µ —Å—á–∏—Ç–∞—é—Ç—Å—è orphans (–¥–æ–∫—É–º–µ–Ω—Ç—ã –±–µ–∑ –≤—Ö–æ–¥—è—â–∏—Ö —Å—Å—ã–ª–æ–∫)
  not_orphans:
    - "README.md"
    - "CHANGELOG.md"
    - "**/GLOSSARY.md"
    - "**/INDEX.md"

  # –ù–µ —Å—á–∏—Ç–∞—é—Ç—Å—è dead-ends (–¥–æ–∫—É–º–µ–Ω—Ç—ã –±–µ–∑ –∏—Å—Ö–æ–¥—è—â–∏—Ö —Å—Å—ã–ª–æ–∫)
  not_dead_ends:
    - "**/GLOSSARY.md"
    - "**/INDEX.md"
    - "CHANGELOG.md"

# –ü—Ä–∞–≤–∏–ª–∞ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
formatting:
  # Naming convention –¥–ª—è –∫–æ—Ä–Ω–µ–≤—ã—Ö –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ (regex)
  root_naming: "^[0-9]{2}_[A-Z_]+\\.md$"

  # –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ —Å–µ–∫—Ü–∏–∏ –¥–ª—è requirements –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
  requirements_sections:
    - "## –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è"
    - "## –ù–µ—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è"

  # –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ —Å–µ–∫—Ü–∏–∏ –¥–ª—è decisions (ADR)
  decision_sections:
    - "## –ö–æ–Ω—Ç–µ–∫—Å—Ç"
    - "## –í–∞—Ä–∏–∞–Ω—Ç—ã"
    - "## –†–µ—à–µ–Ω–∏–µ"
    - "## –û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ"

# –¢—Ä–∞—Å—Å–∏—Ä—É–µ–º–æ—Å—Ç—å —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–π
traceability:
  # –ü–∞—Ç—Ç–µ—Ä–Ω—ã ID –¥–ª—è —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–π –∏ —Ä–µ—à–µ–Ω–∏–π
  requirement_pattern: "REQ-[0-9]+"
  decision_pattern: "DEC-[0-9]+"

  # –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ —Ü–µ–ø–æ—á–∫–∏ —Å–≤—è–∑–µ–π
  required_chains:
    - from: "requirements"
      to: "decisions"
    - from: "decisions"
      to: "architecture"

# –°—Ç–∞–Ω–¥–∞—Ä—Ç—ã –º–æ–¥–µ–ª–∏—Ä–æ–≤–∞–Ω–∏—è (BABOK viewpoints)
modeling_standards:
  # –§–æ—Ä–º–∞—Ç –¥–∏–∞–≥—Ä–∞–º–º
  diagram_format: "mermaid"

  # –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –∞—Ä—Ç–µ—Ñ–∞–∫—Ç—ã –ø–æ viewpoints
  viewpoints:
    data_viewpoint:
      artifacts:
        - file: "architecture/STATE_MACHINES.md"
          required_when: "–°—É—â–Ω–æ—Å—Ç–∏ —Å –ø–æ–ª–µ–º status"
          priority: must
        - file: "architecture/DATA_FLOWS.md"
          priority: should

    business_rules_viewpoint:
      artifacts:
        - file: "architecture/BUSINESS_RULES.md"
          required_when: "–£—Å–ª–æ–≤–Ω–∞—è –ª–æ–≥–∏–∫–∞, –ª–∏–º–∏—Ç—ã, if/else"
          priority: must

    security_viewpoint:
      # –ö—Ä–∏—Ç–∏—á–Ω–æ –¥–ª—è –∫—Ä–∏–ø—Ç–æ/—Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã—Ö —Å–∏—Å—Ç–µ–º
      artifacts:
        - file: "architecture/THREAT_MODEL.md"
          priority: must
          required_when: "–°–∏—Å—Ç–µ–º–∞ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –¥–µ–Ω—å–≥–∏/–∫–ª—é—á–∏"
        - check: "CRUD Matrix –≤ 04_SECURITY.md"
          priority: should

    integration_viewpoint:
      artifacts:
        - file: "architecture/EVENT_CATALOG.md"
          required_when: "Webhooks"
          priority: should

    traceability_viewpoint:
      artifacts:
        - file: "architecture/RTM.md"
          priority: should

# –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç—ã –ø—Ä–æ–±–ª–µ–º
priorities:
  critical:  # üî¥ –ë–ª–æ–∫–∏—Ä—É—é—Ç —Ä–µ–ª–∏–∑
    - contradictions
    - gaps
    - traceability_broken
    - ambiguity
    - missing_threat_model
    - missing_business_rules

  warning:   # üü° –¢—Ä–µ–±—É—é—Ç –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è
    - duplicates
    - terms_inconsistent
    - missing_acceptance_criteria
    - missing_state_diagrams
    - missing_trust_boundaries
    - missing_event_catalog

  info:      # üü¢ –£–ª—É—á—à–∞—é—Ç –∫–∞—á–µ—Å—Ç–≤–æ
    - broken_links
    - orphan_documents
    - formatting
    - naming_conventions
