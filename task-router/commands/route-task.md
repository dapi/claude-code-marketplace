---
description: –ö–ª–∞—Å—Å–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å –∑–∞–¥–∞—á—É –∏ –∑–∞–ø—É—Å—Ç–∏—Ç—å –ø–æ–¥—Ö–æ–¥—è—â–∏–π workflow (feature-dev / subagent-driven-dev / hybrid)
argument-hint: <GitHub Issue URL | Google Doc URL | –ª—é–±–æ–π URL>
---

# /route-task ‚Äî –ú–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è –∑–∞–¥–∞—á–∏ –≤ workflow

–ü–æ–ª—É—á–∞–µ—Ç —Å—Å—ã–ª–∫—É –Ω–∞ –∑–∞–¥–∞—á—É, –∫–ª–∞—Å—Å–∏—Ñ–∏—Ü–∏—Ä—É–µ—Ç –µ—ë —á–µ—Ä–µ–∑ haiku-–∞–≥–µ–Ω—Ç–∞ –∏ –∑–∞–ø—É—Å–∫–∞–µ—Ç –ø–æ–¥—Ö–æ–¥—è—â–∏–π workflow —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏.

---

## –§–∞–∑–∞ 1: –í–∞–ª–∏–¥–∞—Ü–∏—è –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö

–ü—Ä–æ–≤–µ—Ä—å `$ARGUMENTS`:

1. –ï—Å–ª–∏ –ø—É—Å—Ç–æ ‚Äî —Å–ø—Ä–æ—Å–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è: "–£–∫–∞–∂–∏ —Å—Å—ã–ª–∫—É –Ω–∞ –∑–∞–¥–∞—á—É (GitHub Issue URL, Google Doc URL, –∏–ª–∏ –ª—é–±–æ–π URL)"
2. –û–±—Ä–µ–∑–∞—Ç—å –ø—Ä–æ–±–µ–ª—ã. –ï—Å–ª–∏ –Ω–µ—Å–∫–æ–ª—å–∫–æ –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤ ‚Äî –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø–µ—Ä–≤—ã–π.
3. –ï—Å–ª–∏ –∞—Ä–≥—É–º–µ–Ω—Ç –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å `github.com` –∏–ª–∏ `docs.google.com` (–±–µ–∑ –ø—Ä–æ—Ç–æ–∫–æ–ª–∞) ‚Äî –¥–æ–±–∞–≤–∏—Ç—å `https://`.
4. –ï—Å–ª–∏ –Ω–µ –ø–æ—Ö–æ–∂–µ –Ω–∞ URL (`http://`, `https://`) –∏ –Ω–µ —è–≤–ª—è–µ—Ç—Å—è —Å—Å—ã–ª–∫–æ–π –Ω–∞ issue (`#NNN`) ‚Äî –ø–æ–∫–∞–∂–∏: "–ù–µ–≤–µ—Ä–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç. –£–∫–∞–∂–∏ URL (http:// –∏–ª–∏ https://) –∏–ª–∏ —Å—Å—ã–ª–∫—É –Ω–∞ issue (#123)." –∏ **–æ—Å—Ç–∞–Ω–æ–≤–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ**.
5. –ï—Å–ª–∏ —Ñ–æ—Ä–º–∞—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π ‚Äî –ø–µ—Ä–µ—Ö–æ–¥–∏ –∫ –§–∞–∑–µ 2.

---

## –§–∞–∑–∞ 2: –ö–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏—è –∑–∞–¥–∞—á–∏

–ó–∞–ø—É—Å—Ç–∏ —Å—É–±–∞–≥–µ–Ω—Ç-–∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ç–æ—Ä —á–µ—Ä–µ–∑ Task tool:

```
Task:
  subagent_type: "task-router:task-classifier"
  description: "Classify task for routing"
  prompt: "Classify this task and determine the best workflow route: $ARGUMENTS"
  max_turns: 10
```

**–ï—Å–ª–∏ Task tool –∑–∞–≤–µ—Ä—à–∏–ª—Å—è –æ—à–∏–±–∫–æ–π** (—Ç–∞–π–º–∞—É—Ç, crash, –º–æ–¥–µ–ª—å –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∞) ‚Äî –ø–æ–∫–∞–∂–∏: "–ù–µ —É–¥–∞–ª–æ—Å—å –∫–ª–∞—Å—Å–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å –∑–∞–¥–∞—á—É. –ê–≥–µ–Ω—Ç-–∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ç–æ—Ä –Ω–µ –∑–∞–ø—É—Å—Ç–∏–ª—Å—è. –ü–æ–ø—Ä–æ–±—É–π –ø–æ–∑–∂–µ: /route-task {url}" –∏ **–æ—Å—Ç–∞–Ω–æ–≤–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ**.

–î–æ–∂–¥–∏—Å—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞. –û–∂–∏–¥–∞–µ–º—ã–π —Ñ–æ—Ä–º–∞—Ç ‚Äî JSON:

```json
{
  "route": "feature-dev" | "subagent-driven-dev" | "hybrid",
  "complexity": "S" | "M" | "L" | "XL",
  "title": "...",
  "summary": "...",
  "reasoning": "...",
  "spec_file": "/tmp/task-router/spec-...",
  "source": "github" | "google-doc" | "url",
  "signals": {
    "needs_exploration": true | false,
    "has_clear_tasks": true | false,
    "architecture_unclear": true | false
  }
}
```

---

## –§–∞–∑–∞ 3: –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

1. –ï—Å–ª–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç —Å–æ–¥–µ—Ä–∂–∏—Ç markdown code fences (` ``` ` –∏–ª–∏ ` ```json `) ‚Äî —É–¥–∞–ª–∏—Ç—å –∏—Ö.
2. –ò–∑–≤–ª–µ—á—å –ø–µ—Ä–≤—ã–π `{ ... }` JSON-–±–ª–æ–∫ –∏–∑ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞.
3. –ü–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å —Ä–∞—Å–ø–∞—Ä—Å–∏—Ç—å JSON.
4. –ï—Å–ª–∏ JSON –Ω–µ –ø–∞—Ä—Å–∏—Ç—Å—è ‚Äî –ø–æ–∫–∞–∂–∏: "–ù–µ —É–¥–∞–ª–æ—Å—å –∫–ª–∞—Å—Å–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å –∑–∞–¥–∞—á—É. –ü–æ–ø—Ä–æ–±—É–π –µ—â—ë —Ä–∞–∑ –∏–ª–∏ —É–∫–∞–∂–∏ –¥—Ä—É–≥—É—é —Å—Å—ã–ª–∫—É." –∏ **–æ—Å—Ç–∞–Ω–æ–≤–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ**.
5. –ï—Å–ª–∏ `route` == `"error"` ‚Äî –ø–æ–∫–∞–∂–∏: "–û—à–∏–±–∫–∞: {title}. {summary}\n\n–î–µ—Ç–∞–ª–∏: {reasoning}" –∏ **–æ—Å—Ç–∞–Ω–æ–≤–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ**.

---

## –§–∞–∑–∞ 4: –ü—Ä–µ–∑–µ–Ω—Ç–∞—Ü–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞

–ü–æ–∫–∞–∂–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é —Ä–µ–∑—É–ª—å—Ç–∞—Ç –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏–∏ –≤ —Ç–∞–∫–æ–º —Ñ–æ—Ä–º–∞—Ç–µ:

```
## üìã {title}

| | |
|---|---|
| **Complexity** | {complexity} |
| **Route** | {route_display_name} |
| **Source** | {source} |

{summary}

**Reasoning:** {reasoning}

**Signals:** exploration={needs_exploration}, clear_tasks={has_clear_tasks}, unclear_arch={architecture_unclear}
**Spec saved:** {spec_file}
```

**–ú–∞–ø–ø–∏–Ω–≥ route ‚Üí display name:**

| route | display name |
|-------|-------------|
| feature-dev | feature-dev (–∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ + —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è) |
| subagent-driven-dev | writing-plans ‚Üí subagent-driven-dev (–ø–ª–∞–Ω + —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –ø–æ –∑–∞–¥–∞—á–∞–º) |
| hybrid | feature-dev —Ñ–∞–∑—ã 1-4 (–∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ + –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞) ‚Üí writing-plans ‚Üí subagent-driven-dev (—Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è) |

---

## –§–∞–∑–∞ 5: –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –∏ –≤—ã–±–æ—Ä –º–∞—Ä—à—Ä—É—Ç–∞

–°–ø—Ä–æ—Å–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —á–µ—Ä–µ–∑ AskUserQuestion —Å –≤–∞—Ä–∏–∞–Ω—Ç–∞–º–∏:

1. **–î–∞, –∑–∞–ø—É—Å–∫–∞–π {route}** (–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
2. **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å feature-dev**
3. **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å subagent-driven-dev**
4. **–û—Ç–º–µ–Ω–∞**

–ï—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤—ã–±—Ä–∞–ª "–û—Ç–º–µ–Ω–∞" ‚Äî –æ—Å—Ç–∞–Ω–æ–≤–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ.

---

## –§–∞–∑–∞ 6: –ó–∞–ø—É—Å–∫ –≤—ã–±—Ä–∞–Ω–Ω–æ–≥–æ workflow

### –ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–µ –ø—Ä–æ–≤–µ—Ä–∫–∏

**–ü—Ä–æ–≤–µ—Ä–∫–∞ spec-—Ñ–∞–π–ª–∞:**
–ü–µ—Ä–µ–¥ –∑–∞–ø—É—Å–∫–æ–º workflow –ø—Ä–æ–≤–µ—Ä—å —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏–µ `{spec_file}` —á–µ—Ä–µ–∑ Read tool. –ï—Å–ª–∏ —Ñ–∞–π–ª –Ω–µ –Ω–∞–π–¥–µ–Ω –∏–ª–∏ –ø—É—Å—Ç ‚Äî –ø–æ–∫–∞–∂–∏: "–§–∞–π–ª —Å–ø–µ–∫–∏ {spec_file} –Ω–µ –Ω–∞–π–¥–µ–Ω. –ó–∞–ø—É—Å—Ç–∏ /route-task –∑–∞–Ω–æ–≤–æ." –∏ **–æ—Å—Ç–∞–Ω–æ–≤–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ**.

**–ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π:**
–ï—Å–ª–∏ Skill tool –Ω–µ –º–æ–∂–µ—Ç –Ω–∞–π—Ç–∏ —Ç—Ä–µ–±—É–µ–º—ã–π skill ‚Äî –ø–æ–∫–∞–∂–∏:

```
Skill "{skill_name}" –Ω–µ –Ω–∞–π–¥–µ–Ω. –£—Å—Ç–∞–Ω–æ–≤–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–π –ø–ª–∞–≥–∏–Ω:
- feature-dev ‚Äî –¥–ª—è workflow feature-dev –∏ hybrid
- superpowers ‚Äî –¥–ª—è workflow subagent-driven-dev –∏ hybrid (writing-plans + subagent-driven-development)

–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å: /plugin install {plugin_name}@dapi
```

–ò **–æ—Å—Ç–∞–Ω–æ–≤–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ**.

### –í–∞—Ä–∏–∞–Ω—Ç: feature-dev

–í—ã–∑–æ–≤–∏ Skill tool:
- skill: `"feature-dev:feature-dev"`
- args: "–°–ø–µ–∫–∞ –∑–∞–¥–∞—á–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∞ –≤ {spec_file}. –ò—Å–ø–æ–ª—å–∑—É–π –µ—ë –∫–∞–∫ –≤—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ. –ù–∞—á–Ω–∏ —Å —Ñ–∞–∑—ã 2 (Codebase Exploration), —Å–ø–µ–∫–∞ —É–∂–µ –ø–æ–ª—É—á–µ–Ω–∞."

### –í–∞—Ä–∏–∞–Ω—Ç: subagent-driven-dev

–®–∞–≥ 1 ‚Äî –≤—ã–∑–æ–≤–∏ Skill tool:
- skill: `"superpowers:writing-plans"`
- args: "–°–ø–µ–∫–∞ –∑–∞–¥–∞—á–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∞ –≤ {spec_file}. –ò—Å–ø–æ–ª—å–∑—É–π –µ—ë –∫–∞–∫ –≤—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –¥–ª—è –Ω–∞–ø–∏—Å–∞–Ω–∏—è –ø–ª–∞–Ω–∞."

–®–∞–≥ 2 ‚Äî –ø–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è writing-plans, –≤—ã–∑–æ–≤–∏ Skill tool:
- skill: `"superpowers:subagent-driven-development"`
- args: "–í—ã–ø–æ–ª–Ω–∏ –ø–ª–∞–Ω —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏, —Å–æ–∑–¥–∞–Ω–Ω—ã–π –Ω–∞ –ø—Ä–µ–¥—ã–¥—É—â–µ–º —à–∞–≥–µ."

### –í–∞—Ä–∏–∞–Ω—Ç: hybrid

–®–∞–≥ 1 ‚Äî –≤—ã–∑–æ–≤–∏ Skill tool:
- skill: `"feature-dev:feature-dev"`
- args: "–°–ø–µ–∫–∞ –∑–∞–¥–∞—á–∏ –≤ {spec_file}. –ò—Å–ø–æ–ª—å–∑—É–π –µ—ë –∫–∞–∫ –≤—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ. –í—ã–ø–æ–ª–Ω–∏ –¢–û–õ–¨–ö–û —Ñ–∞–∑—ã 1-4 (exploration, questions, architecture). –ù–ï –ø–µ—Ä–µ—Ö–æ–¥–∏ –∫ —Ñ–∞–∑–µ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ ‚Äî –ø–æ—Å–ª–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã –û–°–¢–ê–ù–û–í–ò–°–¨."

–®–∞–≥ 2 ‚Äî –ø–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è feature-dev —Ñ–∞–∑ 1-4, –≤—ã–∑–æ–≤–∏ Skill tool:
- skill: `"superpowers:writing-plans"`
- args: "–°–ø–µ–∫–∞ –≤ {spec_file}. –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∞ –Ω–∞ –ø—Ä–µ–¥—ã–¥—É—â–µ–º —à–∞–≥–µ. –°–æ–∑–¥–∞–π –ø–ª–∞–Ω —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏."

–®–∞–≥ 3 ‚Äî –ø–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è –ø–ª–∞–Ω–∞, –≤—ã–∑–æ–≤–∏ Skill tool:
- skill: `"superpowers:subagent-driven-development"`
- args: "–í—ã–ø–æ–ª–Ω–∏ –ø–ª–∞–Ω —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏."
